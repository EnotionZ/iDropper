<!DOCTYPE html>
<html>
<head>
	<title>iDropper - jQuery color picker plugin</title>
	<link href="http://enki.s3-website-us-east-1.amazonaws.com/stylesheets/prettify.css" media="screen" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" type="text/css" href="iDropper.css">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	<script src="http://enki.s3-website-us-east-1.amazonaws.com/javascripts/google-code-prettify/prettify.js" type="text/javascript"></script>

</head>
<body>



<div id="iDx-nav-container">
	<div class="iDx-container">
		<h1 id="iDx-title"><em>i</em>Dropper</h1>
		<ul id="iDx-nav">
			<li class="first-child">&nbsp;</li>
			<li><a href="#about" title="About">About</a></li>
			<li><a href="#demo" title="Demo">Demo</a></li>
			<li class="iDx-nav-long"><a href="#usage" title="Basic Usage">Basic Usage</a></li>
			<li class="iDx-nav-long"><a href="#dimension" title="Dimension Setting">Dimension</a></li>
			<li><a href="#layout"title="Layout Setting">Layout</a></li>
			<li class="iDx-nav-long"><a href="#colormath" title="Color Math">Color Math</a></li>
			<li class="last-child">&nbsp;</li>
		</ul>
	</div>
</div>

<a id="forkme-ribbon" href="http://github.com/enotionz/idropper"><img src="https://a248.e.akamai.net/assets.github.com/img/ce742187c818c67d98af16f96ed21c00160c234a/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f677261795f3664366436642e706e67" alt="Fork me on GitHub" alt="Fork me on GitHub"></a>

<div id="iDx-content-container" class="iDx-container">
	<div class="iDx-content clearfix">

		
		<h3>About<a class="iDx-anchor" name="about"></a></h3>
		<div class="iDx-content-block" id="iDx-content-about">
			<h4>What is iDropper?</h4>
			<div class="iDx-content2-block">
				<p>
				iDropper is a color picker plugin for jQuery. It was built out of frustration from the lack of basic features in existing color pickers (mainly dimension setting). In short, iDropper is a result of real practical needs and its features were implemented with direct UI and UX designer feedbacks.
				</p>
				<ul class="iDx-lists">
				<li>
					iDropper doesn't assumed a fixed layout or element positioning; it's so flexible that containers can be moved around and even outside of the instantiated element context and all functionality will still be intact. As mentioned above, even the dimension of iDropper can be set.
				</li>
				<li>
					iDropper works across all major browsers. It even works as far back as Internet Explorer 6.
				</li>
				<li>
					iDropper chains and provides proper context inside callbacks so you can write cleaner code and instatiate on multiple-element selectors return multiple elements.
				</li>
				<li>
					iDropper uses the bind and trigger paradigm so you can attach multiple callbacks to a single event.
				</li>
				<li>
					iDropper has exposed math functions so you can get creative with your implementation
				</li>
				</ul>
			</div>

			<h4>Links</h4>
			<div class="iDx-content2-block">
				<ul class="iDx-lists">
					<li><a href="https://github.com/enotionz/idropper" title="Fork me on Github">Fork me on Github</a></li>
					<li><a href="http://twitter.com/enotionz" title="Follow me on Twitter">Follow me on Twitter</a></li>
					<li><a href="http://dph.am" title="Visit my site">Visit my site</a></li>
				</ul>
			</div>
		</div>

		<h3>iDropper Demo<a class="iDx-anchor" name="demo"></a></h3>
		<div class="iDx-content-block clearfix" id="iDx-content-demo">
			<div class="iDx-content2-block">
				<p>Here's a little demo of what iDropper can do. This particular instance of iDropper is tailored in such a way that the saturation/value scale is gone. It essentially means the contrast of a color is locked and the user can only change the hue of the color. Color math is done to the color we get from the drag callback and some cool CSS rules are applied from this information to give this page a completely new theme.
				</p>
				<div id="iDx-ex-demobtn">
					<div id="iDx-ex-demobtn-view">
						<a class="demobtn clearfix">
							<span class="demobtn-contain">
								<span class="demobtn-text">Add To Cart</span>
								<span class="demobtn-cost">
									<span class="demobtn-dollar">$</span>
									<span class="demobtn-price">9.99</span>
								</span>
							</span>
						</a>
						<p> Note: This is an implementation of a design from <a href="http://www.premiumpixels.com/freebies/add-to-cart-buttons-psd/" title="Premium Pixels">Premium Pixels</a> which uses quite a bit of CSS magic. A bunch of color math functions are performed on-the-fly during each mousemove event which could be a huge hit on the browser. It goes without saying that you should try this demo in a modern browser like <a href="http://www.google.com/chrome" title="Google Chrome">Chrome</a> or <a href="http://www.mozilla.org/en-US/firefox/new/" title="Mozilla Firefox">Firefox</a>.
						</p>
					</div>
				</div>
			</div>

		</div>

		
		<h3>Basic Usage<a class="iDx-anchor" name="usage"></a></h3>
		<div class="iDx-content-block" id="iDx-content-usage">

			<h4>Instantiating</h4>
			<div class="iDx-content2-block">
				<p>
					All you need to do to create an instance of iDropper is call jQuery's iDropper() prototype method on the container which you want iDropper to append to. Further, after instantiating iDropper, you can get its instance by grabbing the "iDropper" data attribute from the element you instatiated with.
<pre class="prettyprint lang-js">
var
iDropperContainer = $('#container').iDropper(),
iDropperInstance = iDropperContainer.data("iDropper");
</pre>


					To set the initial color, instantiate iDropper with an object and set the "color" key to a valid hex color.
<pre class="prettyprint lang-js">
var
iDropperContainer = $('#container').iDropper({
   color: "#64c7d9"
});
</pre>

					iDropper creates a text input field which displays the active color and allows users to also input colors. At default, this input field displays the hash symbol. You can turn this off and have iDropper only display the 6-digit hex by setting hideHash to true.
<pre class="prettyprint lang-js">
var
iDropperContainer = $('#container').iDropper({
   hideHash: true
});
</pre>
				</p>
			</div>


			<h4>Callbacks/Event Bindings</h4>
			<div class="iDx-content2-block">
				<p>
					There are four iDropper events to bind to.

					<ul class="labels-list">
						<li><label>change</label> <span>called during a mouseup after a drag and valid input keyup</span></li>
						<li><label>start</label> <span>called during a drag start</span></li>
						<li><label>drag</label> <span>called at each step of a drag</span></li>
						<li><label>end</label> <span>called during a mouse up after a drag</span></li>
					</ul>
					
					There are two ways to bind events; by passing in callbacks during instatiation and by calling the bind method after instatiation. The benefit of binding is that you can attach callbacks after instatiation, in case you don't have that information ahead of time. Also, by using bind, you can attach multiple callbacks to a single event. These callback functions receive the iDropper instance as context, and the jQuery element that iDropper was instatiated on can be referenced through the instance's "el" key.
				</p>
<pre class="prettyprint lang-js">
// Callbacks passed in during instatiation 
$('#container').iDropper({
   onChange: function(hex) { console.log(hex); },
   onStart: function(hex) { console.log(hex); },
   onDrag: function(hex) { console.log(hex); },
   onEnd: function(hex) { console.log(hex); }
});

// Binding callbacks after instatiation
var iDropperInstance = $('#container').iDropper().data("iDropper");
iDropperInstance.bind("change", function(hex) { console.log(hex); });
iDropperInstance.bind("start", function(hex) { console.log(hex); });
iDropperInstance.bind("drag", function(hex) { console.log(hex); });
iDropperInstance.bind("end", function(hex) { console.log(hex); });

// Bind method returns instance, so you can chain like so
$('#container').iDropper().data("iDropper")
   .bind("change", function(hex) { console.log(hex); })
   .bind("start", function(hex) { console.log(hex); })
   .bind("drag", function(hex) { console.log(hex); })
   .bind("end", function(hex) { console.log(hex); });
</pre>
			</div>

			<h4>Basic Usage Demo</h4>
			<div class="iDx-content2-block clearfix">
<pre class="prettyprint lang-js">
// This is the instatiation call that produced the demo below
var
exChange = $("#iDx-ex-usage-change"),
exStart = $("#iDx-ex-usage-start"),
exDrag = $("#iDx-ex-usage-drag"),
exEnd = $("#iDx-ex-usage-end");

$('#iDx-ex-usage').iDropper({
   color: "#64c7d9",
   onChange: function(hex) { exChange.html(hex).css("border-color", hex); },
   onStart: function(hex) { exStart.html(hex).css("border-color", hex); },
   onDrag: function(hex) { exDrag.html(hex).css("border-color", hex); },
   onEnd: function(hex) { exEnd.html(hex).css("border-color", hex); }
});
</pre>
				<ul class="iDx-listing">
					<li>
						<label>Update from "start" event</label>
						<span id="iDx-ex-usage-start"></span>
					</li>
					<li>
						<label>Update from "drag" event</label>
						<span id="iDx-ex-usage-drag"></span>
					</li>
					<li>
						<label>Update from "end" event</label>
						<span id="iDx-ex-usage-end"></span>
					</li>
					<li>
						<label>Update from "change" event</label>
						<span id="iDx-ex-usage-change"></span>
					</li>
				</ul>
				<div id="iDx-ex-usage"></div>
			</div>
		</div>










		<h3>Dimension<a class="iDx-anchor" name="dimension"></a></h3>
		<div class="iDx-content-block clearfix" id="iDx-content-dimension">
			<div class="iDx-content2-block">
				<p>
				One of the cool unique features in iDropper is that it supports setting dimension. To set the dimension of iDropper, set the "size" key when initializing with an integer. The width and height of the hue-saturation scale will be set to this value. Now, iDropper can be tailored to fit into any design you're trying to build out!
				</p>
<pre class="prettyprint lang-js">
$("#iDx-ex-dim80").iDropper({
	size: 80,
	color: "#ff0000"
});
$("#iDx-ex-dim120").iDropper({
	size: 120,
	color: "#00ff00"
});
$("#iDx-ex-dim160").iDropper({
	size: 160,
	color: "#0000ff"
});
</pre>
				<div id="iDx-ex-dim80"></div>
				<div id="iDx-ex-dim120"></div>
				<div id="iDx-ex-dim160"></div>
			</div>
		</div>







		
		<h3>Layout<a class="iDx-anchor" name="layout"></a></h3>

		<div class="iDx-content-block" id="iDx-content-layout">
			<div class="iDx-content2-block">
				<p>
				iDropper supports two layouts; <em>bar</em> and <em>ring</em>. The default is <em>bar</em> (shown above). <br/>To use the <em>ring</em> layout, simply set "ring" on the object parameter's "layout" key. The ring layout uses the same saturation-value image as the bar layout. In order to wrap the hue ring around it, the default dimension of this layout is actually quite big; you probably want to set the dimension to be something smaller.
				</p>
<pre class="prettyprint lang-js">
// This is the instatiation call that produced the demo below
var exLayout = $("#iDx-ex-layout-change");
$('#iDx-ex-usage').iDropper({
   color: "#7dd1c3",
   layout: "ring",
   size: 125,
   onDrag: function(hex) { exLayout.html(hex); }
});
</pre>
				<div id="iDx-ex-layout">
					"Change" callback was fired with the color:
					<span id="iDx-ex-layout-change"></span>
				</div>
			</div>
		</div>








		
		<h3>Color math<a class="iDx-anchor" name="colormath"></a></h3>
		<div class="iDx-content-block" id="iDx-content-colormath">

			<h4>Color Math overview</h4>
			<div class="iDx-content2-block clearfix">
				<p>
				iDropper ships with color math functions that can alter the color input with the HSL-transformation. For this reason, the color input can be a HEX string OR an array that represents an HSL color. Using HEX as input is meant for functional purposes and using HSL is meant for instance purposes; this is because an HSL value is available as a function parameter inside a callback. For performance reasons, you should use HSL as input when available to reduce heavy conversions, especially during a drag event.
				</p>

				<p>In iDropper, HSL is defined by an array where HSL[0] is the hue, HSL[1] is the saturation, and HSL[2] is the lightness. The HSL scale is used in favor over the HSV scale because HSL acts more independently with regards to the saturation and value domain. <a href="http://en.wikipedia.org/wiki/HSL_and_HSV" title="More information on HSL and HSV">More information on HSL &amp; HSV</a>. The HSL ranges are as follows.
					<ul class="labels-list">
						<li><label>Hue:</label>         <span>[0, 360)</span></li>
						<li><label>Saturation:</label>  <span>[0, 1)</span></li>
						<li><label>Value:</label>       <span>[0, 1)</span></li>
					</ul>
				</p>

				<p>The color math functions available in iDropper are outlined below. These functions adhere to the domain ranges outlined above; hue scale will be [0, 360), all others will be [0, 1).
					<ul class="labels-list">
						<li><label>darken</label> <span>Makes color darker by a certain percent</span></li>
						<li><label>lighten</label> <span>Makes color lighter by a certain percent</span></li>
						<li><label>saturate</label> <span>Makes color more saturate by a certain percent</span></li>
						<li><label>desaturate</label> <span>Makes color less saturate by a certain percent</span></li>
						<li><label>changeHue</label> <span>Shifts the hue by a certain degree</span></li>
						<li><label>complement</label> <span>Shifts the hue by 180 degrees</span></li>
						<li><label>changeColor</label> <span>Custom color transformation</span></li>
					</ul>
					changeColor takes an object with the keys "h", "s", and "l" representing the change in hue, saturation, and lightness. Further, you can set "wrap" to true if you want to wrap the value when a range limit is reached. Fox example, a color has a hue of 300 and a hue shift of 80 is performed. Without setting "wrap" will put the hue at 359 degrees, but with "wrap" set, the hue will be 20 degrees.
				</p>
			</div>

			<h4>Color Math on a Functional level</h4>
			<div class="iDx-content2-block">
				<p>
				Color math can be performed on any color and without ever instatiating iDropper by referencing them inside the $.iDropper object. If iDropper is instatiated, you can get color math functions inside a function callback simply by looking at the "this.utils" object. It's the same number of characters so you're not saving any bytes, in fact the utils object is a direct reference to $.iDropper. Using one or the other is just personal preference.
<pre class="prettyprint lang-js">
// Darkens <span style="background: #828e25">#828e25</span> by 20%, returns <span style="background: #373d0f">#373d0f</span>
$.iDropper.darken("#828e25", .2);

// Saturate <span style="background: #828e25">#828e25</span> by 40%, returns <span style="background: #9db101">#9db101</span>
$.iDropper.saturate("#828e25", .4);

// Color: <span style="background: #828e25">#828e25</span>
// Hue shift 200 degrees, saturate 40%, and up lightness 20%, wrap range
// returns <span style="background: #801bfd">#801bfd</span>
$.iDropper.changeColor("#828e25", {h: 200, s: .4, l: .2, wrap: true});
</pre>
				</p>
			</div>

			<h4>Color Math on an Instance level</h4>
			<div class="iDx-content2-block">
				<p>
				Inside a callback, you can call these color math methods directly from "this", just omit the color input since the current actice color will be used. Example below.
				<p>
<pre class="prettyprint lang-js">
var $id1 = $('#iDx-ex-colormath'),
    $id1Change = $('#id1_change'),
    $id1Hueshift = $('#id1_hueshift'),
    $id1Darken = $('#id1_darken'),
    $id1Lighten = $('#id1_lighten'),
    $id1Saturate = $('#id1_sat'),
    $id1Desaturate = $('#id1_desat');

$id1.iDropper({
   color: '#b4bb83',
   onDrag: function(hex) {
      var
      hue = this.changeHue(180),
      dar = this.darken(.25),
      lig = this.lighten(.25),
      sat = this.saturate(.25),
      des = this.desaturate(.25);

      $id1Change.html(hex).css({'border-color': hex});
      $id1Hueshift.html(hue).css({'border-color': hue});
      $id1Lighten.html(lig).css({'border-color': lig});
      $id1Darken.html(dar).css({'border-color': dar});
      $id1Saturate.html(sat).css({'border-color': sat});
      $id1Desaturate.html(des).css({'border-color': des});
   }
});
</pre>
				<ul class="labels iDx-listing">
					<li>
						<label>Original Color: </label>
						<span id="id1_change"></span>
					</li>
					<li>
						<label>Hue-shift 180: </label>
						<span id="id1_hueshift"></span>
					</li>
					<li>
						<label>Lighten by 25%:</label>
						<span id="id1_lighten"></span>
					</li>
					<li>
						<label>Darken by 25%: </label>
						<span id="id1_darken"></span>
					</li>
					<li>
						<label>Saturate by 25%: </label>
						<span id="id1_sat"></span>
					</li>
					<li>
						<label>Desaturate by 25%: </label>
						<span id="id1_desat"></span>
					</li>
				</ul>
				<div id="iDx-ex-colormath" class="clearfix"></div>
			</div>
		</div>

		

		<div class="iDx-content-shadow"></div>
	</div>

</div>

<div id="style_block"></div>


<script src="iDropper.js"></script>
<script>

if(typeof prettyPrint === "function") prettyPrint();

var

// grab style element
$styleBlock = $("#style_block"),
sblock = document.getElementById("style_block"),

// Call iDropper and write style rules into the style block's innerHTML
demobtnContainer = $("#iDx-ex-demobtn").iDropper({
	color: "#9ccc54",
	layout: "ring",
	size: 140,
	onDrag: function(hex, hsl) {
		var
		cssStringify = $.iDropper.cssStringify,
		bodybg = this.saturate(.1),
		darken20 = this.darken(.2),
		darken30 = this.darken(.3),
		lighten20 = this.lighten(.2),
		lightBorder = this.changeColor({l: -0.28, s: -0.45}),
		h3bg = this.changeColor({l: 0.35, s: -0.4}),
		h3border = this.changeColor({l: 0.25, s: -0.30});

		$styleBlock.html("<style>"+
			cssStringify("body", { "background-color": bodybg }) +
			cssStringify("a", { "color": this.darken(.1) }) +
			cssStringify("h3", { "color": darken30, "background": h3bg, "border-color": h3border }) +
			cssStringify("pre.prettyprint", {"background": h3bg, "outline": "1px solid " + h3border }) +
			cssStringify("#iDx-nav-container", {
				"background": this.changeColor({l: -0.36, s: -0.42}),
				"border-color": lightBorder
			}) +
			cssStringify("#iDx-nav a", { "border-color": lightBorder }) +
			cssStringify("#iDx-nav a:hover", { "border-color": darken30 }) +
			cssStringify("#iDx-nav li", {
				"border-left-color": lightBorder,
				"border-right-color": this.changeColor({l: -0.43, s: -0.45})
			}) +
			cssStringify("#iDx-nav a", { "color": hex }) +
			cssStringify(".demobtn", { "background": h3border }) +
			cssStringify(".demobtn-text", { "border-right": "1px solid "+darken20}) +
			cssStringify(".demobtn-cost", { "border-color": lighten20, "color": darken30 }) +
			cssStringify(".demobtn .demobtn-contain", {
				"border-color": darken20,
				"background-color": hex,
				"background-image": "-moz-linear-gradient(top, "+lighten20+", "+hex+")",
				"_filter": "progid:DXImageTransform.Microsoft.gradient(startColorStr='" + lighten20 + "', EndColorStr='" + hex +")\9"
			}) +
			cssStringify(".demobtn .demobtn-contain", { "background-image": "-o-linear-gradient(top, " +lighten20+", "+hex+")"})+
			cssStringify(".demobtn .demobtn-contain", { "background-image": "-webkit-gradient(linear,left top,left bottom,color-stop(0, " + lighten20 +"),color-stop(1, " + hex + "))"})+
			cssStringify(".demobtn .demobtn-contain", { "background-image": "linear-gradient(top, "+lighten20+", "+hex+")"})+
			cssStringify(".demobtn .demobtn-contain", { "background-image": "-webkit-linear-gradient("+lighten20+", "+hex+")"}) +
			"</style>"
		);
	}
}),

// Hides saturation-value picker and place the preview at its location
demobtnSatVal = demobtnContainer.find(".iD-sv-container");
demobtnContainer.find(".iD-preview-input")
	.css( demobtnSatVal.position() )
	.width( demobtnSatVal.width() )
	.height( demobtnSatVal.height() );



var
exChange = $("#iDx-ex-usage-change"),
exStart = $("#iDx-ex-usage-start"),
exDrag = $("#iDx-ex-usage-drag"),
exEnd = $("#iDx-ex-usage-end");
$('#iDx-ex-usage').iDropper({
	color: "#64c7d9",
	onChange: function(hex) { exChange.html(hex).css("border-color", hex); },
	onStart: function(hex) { exStart.html(hex).css("border-color", hex); },
	onDrag: function(hex) { exDrag.html(hex).css("border-color", hex); },
	onEnd: function(hex) { exEnd.html(hex).css("border-color", hex); }
});



var exLayout = $("#iDx-ex-layout-change");
$('#iDx-ex-layout').iDropper({
   color: "#7dd1c3",
   layout: "ring",
   size: 125,
   onDrag: function(hex) { exLayout.html(hex); }
});



$("#iDx-ex-dim80").iDropper({ size: 80, color: "#ff0000" });
$("#iDx-ex-dim120").iDropper({ size: 120, color: "#00ff00" });
$("#iDx-ex-dim160").iDropper({ size: 160, color: "#0000ff" });





var $id1 = $('#iDx-ex-colormath'),
   $id1Change = $('#id1_change'),
   $id1Hueshift = $('#id1_hueshift'),
   $id1Darken = $('#id1_darken'),
   $id1Lighten = $('#id1_lighten'),
   $id1Saturate = $('#id1_sat'),
   $id1Desaturate = $('#id1_desat');

$id1.iDropper({
   color: '#b4bb83',
   onDrag: function(hex) {
      var
      hue = this.changeHue(180),
      dar = this.darken(.25),
      lig = this.lighten(.25),
      sat = this.saturate(.25),
      des = this.desaturate(.25);

      $id1Change.html(hex).css({'border-color': hex});
      $id1Hueshift.html(hue).css({'border-color': hue});
      $id1Lighten.html(lig).css({'border-color': lig});
      $id1Darken.html(dar).css({'border-color': dar});
      $id1Saturate.html(sat).css({'border-color': sat});
      $id1Desaturate.html(des).css({'border-color': des});
   }
});

</script>
</body>
</html>